/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
  &:has([data-amplify-color-mode='dark']) {
    background-color: var(--amplify-colors-neutral-100);
  }
  @media (prefers-color-scheme: dark) {
    &:has([data-amplify-color-mode='system']) {
      background-color: var(--amplify-colors-neutral-100);
    }
  }
}

:root {
  // Algolia customizations
  --docsearch-primary-color: var(--amplify-colors-primary-60);
  --docsearch-modal-background: var(--amplify-colors-background-primary);
  --docsearch-modal-shadow: var(--amplify-shadows-small);
  --docsearch-footer-background: var(--amplify-colors-background-primary);
  --docsearch-footer-shadow: none;
  --docsearch-hit-shadow: none;
  --docsearch-hit-background: var(--amplify-colors-background-secondary);
  --docsearch-hit-color: var(--amplify-colors-font-primary);
  --docsearch-key-gradient: var(--amplify-colors-overlay-10);
  --docsearch-key-shadow: none;
  --docsearch-muted-color: var(--amplify-colors-font-tertiary);
  --docsearch-searchbox-focus-background: transparent;
  --docsearch-icon-color: var(--amplify-colors-font-disabled);
}

/* Remove default margin in favour of better control in authored CSS */
body,
h1,
h2,
h3,
h4,
p,
figure,
blockquote,
dl,
dd {
  margin: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
}

/* Set shorter line heights on headings and interactive elements */
h1,
h2,
h3,
h4,
button,
input,
label {
  line-height: var(--amplify-line-heights-small);
}

/* Balance text wrapping on headings */
h1,
h2,
h3,
h4 {
  text-wrap: balance;
}

/* Style heading links */
h2,
h3 {
  a:not([class]) {
    color: var(--amplify-colors-font-primary);
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
}

kbd {
  display: inline-block;
  font-family: var(--font-code);
  background: var(--amplify-colors-neutral-20);
  padding: var(--amplify-space-xxxs) var(--amplify-space-xs);
  line-height: 1;
  margin: 0 1px;
  border-radius: var(--amplify-radii-small);
  border: 1px solid var(--amplify-colors-neutral-40);
  box-shadow:
    0 1px 0 hsl(0, 0%, 100%) inset,
    0 2px 0 hsla(0, 0%, 0%, 0.2);
  @include darkMode {
    border-color: var(--amplify-colors-neutral-10);
    box-shadow:
      0 1px 0 hsla(0, 0%, 100%, 0.3) inset,
      0 2px 0 hsl(0, 0%, 0%);
  }
}

.main {
  & > h2,
  & > h3 {
    scroll-margin-block: 9rem;
  }
}

a,
.amplify-link {
  text-decoration-skip-ink: auto;

  color: var(--amplify-components-link-color);
  text-decoration: underline;

  &:hover {
    text-decoration: none;
  }

  &:focus {
    outline: 2px solid var(--amplify-colors-border-focus);
  }
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
}

/* Inherit fonts for inputs and buttons */
input,
button,
textarea,
select {
  font: inherit;
}

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

.max-headline-content {
  max-width: 60ch;
}

.max-inline-content {
  max-width: 80ch;
}

blockquote {
  padding: var(--amplify-space-medium);
  border-left: 12px solid var(--amplify-colors-primary-10);
  color: var(--amplify-colors-font-secondary);
  font-style: italic;
}

ul,
ol {
  margin: 0;
}

ol:not([class]) {
  li {
    margin-bottom: var(--amplify-space-small);
  }
}

.main {
  .amplify-heading--2,
  .amplify-heading--3 {
    scroll-margin-top: 9rem;
  }
}

.skip-to-main {
  position: fixed;
  z-index: 201; // GlobalNav is set to 200
  top: var(--amplify-space-small);
  inset-inline-start: 50%;
  transform: translate(-50%, 0);
  &:not(:focus):not(:active) {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
  }
}
