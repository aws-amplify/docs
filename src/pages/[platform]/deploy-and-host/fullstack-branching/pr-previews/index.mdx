import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Fullstack previews (Coming soon)',
  description:
    'Set up ephemeral fullstack environments with pull request previews.',
  platforms: [
    'android',
    'angular',
    'flutter',
    'javascript',
    'nextjs',
    'react',
    'react-native',
    'swift',
    'vue'
  ]
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      meta
    }
  };

}

<Callout info={true}>
  <b>Coming soon: </b>Fullstack previews are still under development.
</Callout>

With fullstack previews, you can set up ephemeral fullstack environments on every pull request. This allows you to test features in isolation from production. Once fullstack previews are enabled, your typical workflow would look like the following diagram:

![Pull request workflow detailing how Amplify handles the deployment of ephemeral environments](/images/gen2/fullstack-branching/previews.png)

1. Your `main` (production branch) and `featureA` branch are deployed on Amplify.
1. You and your team work on `featureA` until it's ready.
1. The `featureA` branch is updated to `main` HEAD and then a pull request to `main` is opened.
1. The pull request preview is deployed on Amplify and available at `pr-1.appid.amplifyapp.com`.
1. Once the pull request is merged into `main`, the request is closed and the fullstack environment is also automatically torn down.

Once this feature is available, we will update this page with instructions for generating fullstack previews so you can view and validate proposed changes to your fullstack app before merging pull requests.
