import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Gen 2 for Gen 1 customers',
  description: 'Learn how to set up your AWS account and configure it locally for use with Amplify.',
  platforms: [
    'android',
    'angular',
    'flutter',
    'javascript',
    'nextjs',
    'react',
    'react-native',
    'swift',
    'vue'
  ]
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      meta
    }
  };
}

## Migrating from Gen 1 to Gen 2

Currently, migrating your Gen 1 Amplify project to Gen 2 is not possible, but we are actively developing migration tools to facilitate this transition. We remain committed to supporting both Gen 1 and Gen 2 for at least the next 12 months. For those embarking on new projects, we recommend adopting Gen 2 to take advantage of its [enhanced capabilities](/[platform]/how-amplify-works/concepts/). Meanwhile, customers on Gen 1 will continue to receive support for high-priority bugs and essential security updates.


## Gen 1 vs Gen 2 feature matrix

The tables below present a feature matrix for Gen 1 customers who are considering Gen 2 for their apps. This will help determine the support availability for various features.

### Auth

| Feature | Gen 1 | Gen 2 |
|---|---|---| 
| Oauth flow: Configure domain name prefix | Yes | Yes |
| Admin queries | Yes | Coming soon |
| Configure username | Yes | Yes |
| Add Userpool groups | Yes | Yes |
| Userpool group preference | Yes | Yes |
| expected auth prop `allowGuestAccess` in amplifyconfiguration.json | Yes | Yes |
| Userpool client to allow read access to email_verified by default | Yes | Yes |
| allow BackendSecret for oidc.issuerUrl | No | Yes |
| saml metadataContent prop to accept BackendSecret | No | Yes |
| Email verification link redirect | No | Yes |
| Auth trigger templates: Add Google reCaptcha Challenge | Yes | Yes |
| Auth trigger templates: Add User to Group | Yes | Yes |
| Auth trigger templates: Email Domain Filtering (denylist) | Yes | Yes |
| Auth trigger templates: Email Domain Filtering (allowlist) | Yes | Yes |
| Auth trigger templates: Override ID Token Claims | Yes | Yes |
| Auth configuration in console | Yes | No |
| Lambda trigger template generation: Custom Auth Challenge Flow (basic scaffolding - Not for production) | Yes | Replaced |
| Configure default password policy | Yes | Yes with CDK |
| Configure read/write capabilities for attributes | Yes | Yes with CDK |
| Oauth flow: Configure authorization v implicit grant | Yes | Yes with CDK |
| Sign-in with custom flow: Create Auth Challenge | Yes | Yes with CDK |
| Sign-in with custom flow: Custom Message | Yes | Yes with CDK |
| Sign-in with custom flow: Define Auth Challenge | Yes | Yes with CDK |
| Sign-in with custom flow: Post Authentication | Yes | Yes with CDK |
| Sign-in with custom flow: Post Confirmation | Yes | Yes with CDK |
| MFA login (on/off/optional) | Yes | Yes |
| MFA: SMS | Yes | Yes |
| MFA: TOTP | Yes | Yes |
| Configure email | Yes | Yes |
| Configure phone number | Yes | Yes |
| Zero-config Authenticator support | Yes | Yes |
| User management in console | Yes | Yes |
| Sign-up attributes | Yes | Yes |
| Auth and unauth role creation | Yes | Yes |
| Custom attributes | Yes | Yes |
| Configure Oauth scopes | Yes | Yes |
| Facebook | Yes | Yes |
| Google | Yes | Yes |
| Amazon | Yes | Yes |
| Sign-in with Apple | Yes | Yes |
| Email verification - code | Yes | Yes |
| Email Verification - Link | Yes | Yes |
| Oauth flow: Configure redirect URIs | Yes | Yes |
| Ability to set a friendly name for IdP and CUP | Yes | Yes |
| Unauthenticated logins | Yes | Yes |
| Auth trigger support | Yes | Yes |


### Data

| Directive | Gen 1 | Gen2 |
|---|---|---|
| model | Yes | Yes |
| - queries editing parameter | Yes | Yes |
| - mutations editing parameter | Yes | Yes |
| - subscriptions editing parameter | Yes | Yes |
| - timestamps editing parameter | Yes | Yes |
| primaryKey | Yes | Yes |
| - sortKeyFields | Yes | Yes |
| secondaryKey (name, sortKeyFields, query) | Yes | Yes |
| hasOne | Yes | Yes |
| hasMany | Yes | Yes |
| belongsTo | Yes | Yes |
| manyToMany | Yes | Yes |
| default | Yes | Yes |
| ----------- auth - model level ---- |   |   |
| auth - public - apiKey | Yes | Yes |
| auth - public - iam | Yes | Yes |
| auth - owner - userPools | Yes | Yes |
| auth - owner - ownerField - userPools | Yes | Yes |
| auth - owner - ownerField as array - userPools | Yes | Yes |
| auth - owner - oidc | Yes | Yes |
| auth - owner - ownerField - oidc | Yes | Yes |
| auth - owner - ownerField as array - oidc | Yes | Yes |
| auth - private - userPools | Yes | Yes |
| auth - private - oidc | Yes | Yes |
| auth - private - iam | Yes | Yes |
| auth - group - userPools | Yes | Yes |
| auth - group - dynamic - userPools | Yes | Yes |
| auth - group - oidc | Yes | Yes |
| auth - group - dynamic - oidc | Yes | Yes |
| auth - custom - function | Yes | Yes |
| --- auth -- field level |   |   |
| auth - public - apiKey | Yes | Yes |
| auth - public - iam | Yes | Yes |
| auth - owner - userPools | Yes | Yes |
| auth - owner - ownerField - userPools | Yes | Yes |
| auth - owner - ownerField as array - userPools | Yes | Yes |
| auth - owner - oidc | Yes | Yes |
| auth - owner - ownerField - oidc | Yes | Yes |
| auth - owner - ownerField as array - oidc | Yes | Yes |
| auth - private - userPools | Yes | Yes |
| auth - private - oidc | Yes | Yes |
| auth - private - iam | Yes | Yes |
| auth - group - userPools | Yes | Yes |
| auth - group - dynamic - userPools | Yes | Yes |
| auth - group - oidc | Yes | Yes |
| auth - group - dynamic - oidc | Yes | Yes |
| auth - custom - function | Yes | Yes |
| --- other directives --- |   |   |
| searchable | Yes | No - We recommend Zero-ETL OpenSearch pipelines instead |
| predictions | Yes | Coming soon |
| type Mutation | Query | Subscription | Yes | Yes |
| VTL | Yes | Yes - with JS resolvers |
| function | Yes | Yes |
| http | Yes | Yes -we support custom data sources including `http` |
| ---- Other configurations ---- |  |  |
| Conflict resolution settings | Yes - with DataStore | Coming soon |
| Visual configuration | Yes | No - Gen 2 is code-first by design |
| Directive / config | Gen 1 | Gen2 |
|---|---|---|
| model | Yes | Yes |
| - queries editing parameter | Yes | Yes |
| - mutations editing parameter | Yes | Yes |
| - subscriptions editing parameter | Yes | Yes |
| - timestamps editing parameter | Yes | Yes |
| primaryKey | Yes | Yes |
| - sortKeyFields | Yes | Yes |
| secondaryKey (name, sortKeyFields, query) | Yes | Yes |
| hasOne | Yes | Yes |
| hasMany | Yes | Yes |
| belongsTo | Yes | Yes |
| manyToMany | Yes | Yes |
| default | Yes | Yes |
| ----------- auth - model level ---- |   |   |
| auth - public - apiKey | Yes | Yes |
| auth - public - iam | Yes | Yes |
| auth - owner - userPools | Yes | Yes |
| auth - owner - ownerField - userPools | Yes | Yes |
| auth - owner - ownerField as array - userPools | Yes | Yes |
| auth - owner - oidc | Yes | Yes |
| auth - owner - ownerField - oidc | Yes | Yes |
| auth - owner - ownerField as array - oidc | Yes | Yes |
| auth - private - userPools | Yes | Yes |
| auth - private - oidc | Yes | Yes |
| auth - private - iam | Yes | Yes |
| auth - group - userPools | Yes | Yes |
| auth - group - dynamic - userPools | Yes | Yes |
| auth - group - oidc | Yes | Yes |
| auth - group - dynamic - oidc | Yes | Yes |
| auth - custom - function | Yes | Yes |
| --- auth -- field level |   |   |
| auth - public - apiKey | Yes | Yes |
| auth - public - iam | Yes | Yes |
| auth - owner - userPools | Yes | Yes |
| auth - owner - ownerField - userPools | Yes | Yes |
| auth - owner - ownerField as array - userPools | Yes | Yes |
| auth - owner - oidc | Yes | Yes |
| auth - owner - ownerField - oidc | Yes | Yes |
| auth - owner - ownerField as array - oidc | Yes | Yes |
| auth - private - userPools | Yes | Yes |
| auth - private - oidc | Yes | Yes |
| auth - private - iam | Yes | Yes |
| auth - group - userPools | Yes | Yes |
| auth - group - dynamic - userPools | Yes | Yes |
| auth - group - oidc | Yes | Yes |
| auth - group - dynamic - oidc | Yes | Yes |
| auth - custom - function | Yes | Yes |
| --- other directives --- |   |   |
| searchable | Yes | no - We recommend Zero-ETL OpenSearch pipelines instead |
| predictions | Yes | Coming soon |
| -------- |   |   |
| type Mutation | Query | Subscription | Yes | Yes |
| VTL | Yes | Yes - with JS resolvers |
| function | Yes | Yes |
| http | Yes | Yes -we support custom data sources including `http` |
| --------- |  |  |
| Conflict resolution settings | Yes - with DataStore | Coming soon |
| Visual configuration | Yes | No - Gen 2 is code-first by design |
| Data manager in console | Yes | Yes  |
| Custom Transformers | Yes | Yes - with custom resolvers |



### Storage

| Feature | Gen 1 | Gen 2 |
|---|---|---|
| Ability to provision S3 bucket | Yes | Yes |
| Auth and Guest access | Yes | [Yes](/[platform]/build-a-backend/storage/authorization/#for-gen-1-public-protected-and-private-access-pattern) |
| Auth - Configure CRUD access | Yes | Yes |
| Configure Cognito Group CRUD access | Yes | Yes |
| Guest - Configure CRUD access | Yes | Yes |
| Lambda trigger for S3 bucket | Yes | Yes |
| Import an S3 bucket | Yes | Yes |
| File browser in console | Yes | Yes |
| Ability to override/custom | Yes | Yes |
| Generate template for Lambda trigger | Yes | Yes |
| Modify. Amplify generated S3 policies | Yes | Yes |
| Locally test  | Yes | No - We recommend using high fidelity sandbox envs instead. |
| Visual configuration | Yes | No - Gen 2 is code-first by design |
| File Browser in console | Yes | Yes |


### Functions

| Feature | Gen 1 | Gen 2 |
|---|---|---|
| Function runtime: TypeScript | No | Yes |
| Function resource access permissions: ◯ auth | Yes | Yes |
| Function resource access permissions: ◯ function | Yes | Yes |
| Function resource access permissions: ◯ api | Yes | Yes |
| Function resource access permissions CRUD operations | Yes | Yes |
| Function resource access permissions: custom | No | Yes |
| Environment variables | Yes | Yes |
| Secrets | Yes | Yes |
| Cron jobs | Yes | Yes |
| Configure memory size | Yes | Yes |
| Function build options for NodeJS | Yes | Yes |
| Function templates: AppSync - GraphQL API request (with IAM) | Yes | Yes |
| Function templates: CRUD function for DynamoDB (Integration with API Gateway) | Yes | Yes |
| Function templates: GraphQL Lambda Authorizer | Yes | Yes |
| Function templates: Hello World | Yes | Yes |
| Function templates: Lambda trigger | Yes | Yes |
| Function logs in console | Yes | Yes |
| Function resource access permissions: ◯ geo | Yes | Yes with CDK |
| Function resource access permissions: ◯ analytics | Yes | Yes with CDK |
| Function runtime: NET 6 | Yes | Yes with CDK |
| Function runtime: Go | Yes | Yes with CDK |
| Function runtime: Java | Yes | Yes with CDK |
| Function runtime: JS | Yes | Yes with CDK |
| Function runtime: Python | Yes | Yes with CDK |
| Lambda layers | Yes | No |


### Other categories

| Feature | Gen 1 | Gen 2 |
|---|---|---| 
| REST API| Yes|	Yes with custom CDK
| Analytics| Yes|	Yes with custom CDK
| Geo| Yes|	Yes with custom CDK
| Predictions | Yes|	Yes with custom CDK
| Interactions| Yes|	Yes with custom CDK
