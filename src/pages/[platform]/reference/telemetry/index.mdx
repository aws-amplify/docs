import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Telemetry',
  description: 'Reference for Amplify Gen 2 telemetry.',
  platforms: [
    'android',
    'angular',
    'flutter',
    'javascript',
    'nextjs',
    'react',
    'react-native',
    'swift',
    'vue'
  ]
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      platform: context.params.platform,
      meta
    }
  };
}

{/* inspired by https://nextjs.org/telemetry */}

Amplify Gen 2 collects anonymous telemetry data about general usage of the CLI. Participation is optional, and you may [opt out](#how-do-i-opt-out) by using `ampx configure telemetry disable`.

Your decision to opt out is stored for your user, meaning all Amplify apps you work with on that computer will not send telemetry data.

{/* ## Why is telemetry collected? */}

{/* @TODO */}

{/* ## What is being collected? */}

{/* @TODO */}

## How do I opt out?

You may opt out by using the `configure telemetry disable` command from the root of your Amplify app:

```bash title="Terminal" showLineNumbers={false}
npx ampx configure telemetry disable
```

You can opt back in to the program by running the following from the root of your Amplify app:

```bash title="Terminal" showLineNumbers={false}
npx ampx configure telemetry enable
```

In the event you would like to disable telemetry on a one-time basis, you can opt out by defining an environment variable:

```bash title="Terminal" showLineNumbers={false}
export AMPLIFY_DISABLE_TELEMETRY=1
```
