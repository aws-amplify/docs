import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Configure Amplify categories',
  description: 'Configuring the client.',
  platforms: ['javascript', 'react-native', 'angular', 'nextjs', 'vue', 'react']
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      platform: context.params.platform,
      meta
    }
  };
}

<InlineFilter filters={['javascript', 'react-native', 'angular', 'nextjs', 'vue','react']}>

When using the Amplify CLI, the **aws-exports.js** file gets created and updated automatically for you based upon the resources you have added and configured.

If you are not using the Amplify CLI or need to override these settings, this documentation shows the available configuration properties for each category.

## General configuration

The `Amplify.configure()` configuration can generally be included in your project _entrypoint_ file (i.e. _/src/main.js_). It takes in two parameters - `ResourcesConfig` and `LibraryOptions`.

```ts
Amplify.configure(
  {}: ResourcesConfig;
  {}?: LibraryOptions;
);
```

## Authentication (Amazon Cognito)

```js
Amplify.configure({
  Auth: {
    Cognito: {
      userPoolClientId: string;
      userPoolId: string;
      userPoolEndpoint?: string;
      signUpVerificationMethod?: 'code' | 'link';
      loginWith?: {
        oauth?: OAuthConfig;
        username?: boolean;
        email?: boolean;
        phone?: boolean;
      };
    }
  }
});
```

## Storage (Amazon S3)

```js
Amplify.configure({
  Storage: {
    S3: {
      bucket?: string;
      region?: string;
    }
  }
});
```

## GraphQL API (AWS AppSync)

```js
Amplify.configure({
  API: {
    GraphQL: {
      endpoint: string;
      region?: string;
      apiKey?: string;
      customEndpoint?: string;
      customEndpointRegion?: string;
      defaultAuthMode: GraphQLAuthMode;
      modelIntrospection?: ModelIntrospectionSchema;
    }
  }
});
```

## REST API (Amazon API Gateway)

```js
Amplify.configure({
  API: {
    REST: [
      'your-api-name':{
        endpoint: string;
        region?: string;
        service?: string; //Optional service name string to sign the request with IAM credentials. Default 'execute-api'
      }
    ]
  }
});
```

## Predictions

```js
Amplify.configure({
  Predictions: {
    convert: {
      translateText: {
        region: 'us-east-1',
        proxy: false,
        defaults: {
          sourceLanguage: 'en',
          targetLanguage: 'zh'
        }
      },
      speechGenerator: {
        region: 'us-east-1',
        proxy: false,
        defaults: {
          VoiceId: 'Ivy',
          LanguageCode: 'en-US'
        }
      },
      transcription: {
        region: 'us-east-1',
        proxy: false,
        defaults: {
          language: 'en-US'
        }
      }
    },
    identify: {
      identifyText: {
        proxy: false,
        region: 'us-east-1',
        defaults: {
          format: 'PLAIN'
        }
      },
      identifyEntities: {
        proxy: false,
        region: 'us-east-1',
        celebrityDetectionEnabled: true,
        defaults: {
          collectionId: 'identifyEntities8b89c648-test',
          maxEntities: 50
        }
      },
      identifyLabels: {
        proxy: false,
        region: 'us-east-1',
        defaults: {
          type: 'LABELS'
        }
      }
    },
    interpret: {
      interpretText: {
        region: 'us-east-1',
        proxy: false,
        defaults: {
          type: 'ALL'
        }
      }
    }
  }
});
```

## Analytics (Amazon Pinpoint)

```js
Amplify.configure({
  Analytics: {
    Pinpoint: {
      appId: 'XXXXXXXXXXabcdefghij1234567890ab',
      region: 'XX-XXXX-X',
      endpointId: 'XXXXXXXXXXXX'
    }
  }
});
```

## Geo

```js
Amplify.configure({
  Geo: {
    LocationService: {
      region: 'XX-XXXX-X', // REQUIRED - Amazon Location Service Region
      maps?: {},
      searchIndices?: {}
    }
  }
});
```

## Interactions

### Top level configuration

```js
Amplify.configure({
  Auth: {
    identityPoolId: 'us-east-1:xxx-xxx-xxx-xxx-xxx', // (required) Identity Pool ID
    region: 'us-east-1' // (required) Identity Pool region
  },
  Interactions: {
    bots: {
      BookTrip: {
        name: 'BookTrip',
        alias: '$LATEST',
        region: 'us-east-1'
      }
    }
  }
});
```

</InlineFilter>
