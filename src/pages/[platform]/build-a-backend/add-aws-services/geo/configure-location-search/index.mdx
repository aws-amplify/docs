import { getCustomStaticPath } from '@/utils/getCustomStaticPath';
                  
export const meta = {
  title: 'Configure location search',
  description: 'Create and manage location search indices or place indices that are used to search for places in your application.',
  platforms: [
    'android',
    'angular',
    'javascript',
    'nextjs',
    'react',
    'swift',
    'vue'
  ],
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      platform: context.params.platform,
      meta
    }
  };
}
          
Amplify's `geo` category enables you to search by places, addresses, and coordinates in your app with "place index" resources. These resources also include an API key with access restrictions specified from the `access` callback. This API key will be used to render the location search components if your application requires access control on the components. To set up Amazon Location API keys through Geo, visit the [set up guide](/[platform]/build-a-backend/add-aws-services/geo/set-up-geo/#generate-api-keys).

## Setup a new Location Search Index

```ts title="amplify/geo/resource.ts"
import { definePlace } from "@aws-amplify/backend-geo";

export const searchIndex = definePlace({
  name: 'amplifyPlace',
  description: 'This is an Amplify search index.',
  access: (allow) => [
    allow.authenticated.to(['autocomplete', 'geocode']),
    allow.guest.to(['autocomplete', 'geocode']),
    allow.apiKey.to(['search'])
  ],
  apiKeyProps: {
    apiKeyName: 'amplifyPlaceIndexKey'
  }
});
```

Now update your `backend.ts` file with the place index created in your `resource.ts` file.

```ts title="amplify/backend.ts"
import { defineBackend } from "@aws-amplify/backend";
import { auth } from "./auth/resource";
import { data } from "./data/resource";
// highlight-next-line
import { searchIndex } from "./geo/resource";

const backend = defineBackend({
  auth,
  data,
  // highlight-next-line
  searchIndex
});
```

## Location Search Index Pricing Plan
The pricing plan for Search Index will be set to `RequestBasedUsage`.
We advice you to go through the [location service pricing](https://aws.amazon.com/location/pricing/) along with the [location service terms](https://aws.amazon.com/service-terms/) (_82.5 section_) to learn more about the pricing plan.
