import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Connected forms',
  description:
    'Generate React forms for creating and updating data in your Amplify data backend.',
  platforms: [
    'javascript',
    'nextjs',
    'react'
  ]
};

export const getStaticPaths = async () => {
  return getCustomStaticPath(meta.platforms);
};

export function getStaticProps(context) {
  return {
    props: {
      meta
    }
  };
}


You can generate React forms that automatically connect to your data backend. 

## Generate forms
First, install the Amplify UI library.

```bash
npm install @aws-amplify/ui-react

```

To use connected forms, you first need to deploy a data model from your sandbox environment. We will use the same example as in the getting started [tutorial](/[platform]/start/quickstart).
To get started run the following command from your project root:

```bash
npx amplify generate forms
```

This will generate create and update forms for each model defined in your schema in a folder called `ui-components`.

`File written: ui-components/graphql/subscriptions.ts`
`File written: ui-components/graphql/mutations.ts`
`File written: ui-components/graphql/queries.ts`
`File written: ui-components/TodoCreateForm.jsx`
`File written: ui-components/TodoCreateForm.d.ts`
`File written: ui-components/TodoUpdateForm.jsx`
`File written: ui-components/TodoUpdateForm.d.ts`
`File written: ui-components/utils.js`
`File written: ui-components/index.js`

## Render React form in your app

1. In your application's entrypoint file (e.g. `src/index.js` for create-react-app or `src/main.jsx` for Vite), add the following imports and configuration

```jsx
// highlight-start
import '@aws-amplify/ui-react/styles.css';
import { ThemeProvider } from '@aws-amplify/ui-react';
// highlight-end
import { Amplify } from 'aws-amplify';

import amplifyconfig from './amplifyconfiguration.json';

Amplify.configure(amplifyconfig);
```

2. In your application's entrypoint file (e.g. `src/main.jsx` for Vite), wrap the `<App />` component with the following:

```jsx
<ThemeProvider>
  <App />
</ThemeProvider>
```

3. Import your form by name. For a form named `TodoCreateForm`, you would use the following code:

```jsx
import { TodoCreateForm } from './ui-components';
```

3. Place your form in code. For a form named `ProductCreateForm` in a React project, you could use the following App code:

```jsx
function App() {
  return <TodoCreateForm />;
}

export default App;
```

## Updating forms

In Gen 2, we automatically generate the form UI for you, which you can then customize and manage. If you decide to update your data model and need to regenerate the forms, please ensure you back up the original `ui-components` folder before executing the `npx amplify generate forms` command again.
