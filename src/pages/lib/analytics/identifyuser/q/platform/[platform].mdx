export const meta = {
  title: `Identify user`,
  description: `Use the Amplify analytics plugin to inform Pinpoint about your users.`,
  filterKey: 'platform',
  supportedPlatforms: INTEGRATION_FILTER_OPTIONS
};

import { generateStaticPaths } from '@/utils/generateStaticPaths.tsx';

import { INTEGRATION_FILTER_OPTIONS } from '@/utils/filter-data.ts';

export const getStaticPaths = () => {
  return generateStaticPaths(meta.filterKey, meta.supportedPlatforms);
};

export const getStaticProps = (context) => {
  return {
    props: {
      platform: context.params.platform,
      filterKind: meta.filterKey
    }
  };
};

import android_identify_user from '/src/fragments/lib/analytics/android/identifyuser.mdx';
import flutter_identify_user from '/src/fragments/lib/analytics/flutter/identifyuser.mdx';
import ios_identify_user from '/src/fragments/lib/analytics/ios/identifyuser.mdx';

<Fragments
  fragments={{
    android: android_identify_user,
    flutter: flutter_identify_user,
    ios: ios_identify_user
  }}
/>

<InlineFilter filters={['js', 'react-native']}>

This API sends information about the current user to Amazon Pinpoint.

Additional information such as the user's name, email, location, and device can be included by specifying the `UserProfile`. Custom attributes can also be included by setting `UserProfile.attributes`.

If the user was signed in through [signIn](/lib-v1/auth/emailpassword/q/platform/js/) you can retrieve the current user's ID as shown below:

```js
import { identifyUser } from "aws-amplify/analytics";
import { getCurrentUser } from "aws-amplify/auth";

const location = {
  latitude: 47.606209,
  longitude: -122.332069,
  postalCode: "98122",
  city: "Seattle",
  region: "WA",
  country: "USA"
};

const attributes = {
  name: "username",
  email: "name@example.com",
  plan: "plan",
  phoneNumber: "+11234567890",
  age: 25
}

const userProfile = {
  location,
  attributes
}

async function sendUserData() {
  const user = await getCurrentUser(); 

  identifyUser({
    userId: user.userId,
    userProfile
  });
}
```

import js0 from "/src/fragments/lib/analytics/native_common/identify-use-cases.mdx";

<Fragments fragments={{ js: js0 }} />

</InlineFilter>
