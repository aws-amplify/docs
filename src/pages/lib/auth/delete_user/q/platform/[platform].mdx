export const meta = {
  title: `Delete user account`,
  description: `Learn how to delete a user account.`
};

<InlineFilter filters={["js", "react-native"]}>

[comment]: # (IMPORTANT - currently the recommended links include the new location for password management for JS and RN - either we publish after that is live or change the links below - there may be more relevant recommendations. Source content below from /src/fragments/lib/auth/js/delete_user.mdx)

Empowering users to delete their account can improve trust and transparency. You can programmatically enable self-service account deletion with Amplify Auth. Users can delete their own account through your app interface by confirming intent before final removal. In this guide we will review how you and enable this for your users and highlight best practices before enabling this feature.

Before you begin, you will need:
- An Amplify project with the Auth category configured
- The Amplify Libraries installed and configured
- A test user to delete

## Allow my users to delete their account

You can quickly set up account deletion for your users with the Amplify Libraries. However, you should also be aware of which data this deletion includes and does not include. Depending on your application, data associated with your user may be stored in other resources such as Amazon  DynamoDB or AWS S3. It is recommended that you carefully evaluate this data and implement code to remove or otherwise sanitize it, if necessary, prior to giving users the ability to delete their own user record.

Invoking the `deleteUser` API to delete a user from the Auth category will also sign out your user.

If your application uses a Cognito User Pool, which is the default configuration for the Amazon Cognito plugin, this action will delete the user from the Cognito User Pool. It will have no effect if you are federating with a Cognito Identity Pool alone.

<Callout warning>

  Before invoking the `deleteUser` API, you can first delete associated user data from the GraphQL API. For example, if you are using Amplify CLI's [GraphQL transformer](/cli/graphql/overview/) to persist user data via [owner based access control](/cli/graphql/authorization-rules/#per-user--owner-based-data-access), you could follow [these instructions](https://gist.github.com/aws-amplify-ops/27954c421bd72930874d48c15c284807) to delete associated user data. This allows you to address any guidelines (such as GDPR) that require your app to delete data associated with a user who deletes their account.

</Callout>

You can enable account deletion using the following method:

<BlockSwitcher>
<Block name="TypeScript">

```ts
import { Auth } from 'aws-amplify';

export async function deleteUser() {
  try {
    const result = await Auth.deleteUser();
    console.log(result);
  } catch (error) {
    console.log('Error deleting user', error);
  }
}
```
</Block>
<Block name="JavaScript">

```js
import { Auth } from 'aws-amplify';

async function deleteUser() {
  try {
    const result = await Auth.deleteUser();
    console.log(result);
  } catch (error) {
    console.log('Error deleting user', error);
  }
}
```
</Block>
</BlockSwitcher>

We also recommend you update your UI to let your users know that their account is deleted. Again, your user will be signed out of your application when they delete their account.

## Conclusion

Congratulations! You finished the **Delete user account** guide. In this guide, you learned how to enable account deletion for your users.

## Next steps

Now that you enabled account deletion you may also want to add some additional features. We recommend you learn more about:

<InlineFilter filters={["js"]}>

- [Manage user profile](/lib/auth/manageusers/q/platform/js/)
- [Set up password change and recovery](/lib/auth/password_management/q/platform/js/)

</InlineFilter>

<InlineFilter filters={["react-native"]}>

- [Manage user profile](/lib/auth/manageusers/q/platform/react-native/)
- [Set up password change and recovery](/lib/auth/password_management/q/platform/react-native/)

</InlineFilter>

</InlineFilter>

import ios0 from '/src/fragments/lib/auth/native_common/delete_user/common.mdx';

<Fragments fragments={{ ios: ios0 }} />

import flutter1 from '/src/fragments/lib/auth/native_common/delete_user/common.mdx';

<Fragments fragments={{ flutter: flutter1 }} />

import android3 from '/src/fragments/lib/auth/native_common/delete_user/common.mdx';

<Fragments fragments={{ android: android3 }} />
