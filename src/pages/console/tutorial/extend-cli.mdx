export const meta = {
  title: `Component in code`,
  description: `Install the CLI without npm and use the CLI without an AWS account`,
};

Amplify Studio allows you to use all the Amplify CLI's features without the need to configure it with AWS Identity and Access Management (IAM). Changes made in Amplify Studio can be made available in the CLI by running the `amplify pull` command. Similarly, CLI changes to the data model or auth will be visible in Amplify Studio. For all other categories, Studio provides links to the relevant service consoles in AWS.

![autologin](/images/console/cli-autologin.gif)

## To install the Amplify CLI
1. Open a terminal window and install the CLI.

import all0 from "/src/fragments/cli-install-block.mdx";

<Fragments fragments={{all: all0}} />

After the Amplify CLI finishes installing, you can configure the CLI so that you can use it without an AWS account.

## To configure the Amplify CLI for use without an AWS account

import all1 from "/src/fragments/pull-cli-studio.mdx";

<Fragments fragments={{all: all1}} />

<Callout>

For Safari, the browser will provide a CLI login key. Copy the CLI login key from the browser and paste it into your terminal.

</Callout>

### Initial Project Setup

To use a form in your application, you first need to configure your project to use Amplify Studio generated components. 

1. In your application's root directory and install the following npm dependencies

```
npm install aws-amplify @aws-amplify/ui-react
```

2. In your application's `index.js` file, add the following imports and configuration

```jsx
import '@aws-amplify/ui-react/styles.css';

import { Amplify } from 'aws-amplify';
import {ThemeProvider} from "@aws-amplify/ui-react";

import awsconfig from './aws-exports';
import studioTheme from './ui-components/studioTheme';

Amplify.configure(awsconfig);
```
3. In your application's `index.js` file, wrap the `<App />` with the following:

```jsx
<ThemeProvider theme={studioTheme}>
    <App />
</ThemeProvider>
```

## Use component in code

Now that your components are synced, navigate to a component and choose **Configure**. To get your React code, choose **Get component code**.

Follow the instructions in the modal. If this is your first time setting up the UI components in your app, make sure to complete **Initial project setup** first to install all dependencies.

![Screenshot showing how to get the component code](/images/studio/get-code.png)

Next, run `amplify pull` to sync all your components into your local code base. A new `ui-components` folder with all the UI components is created.

Import the UI component you want from `./ui-components` and then render it in your React app. For example:

```jsx
import { CardB } from './ui-components'

function MyCardComponent() {
  return (
    <div>
			<CardB />
		</div>
	)
}

```

## (Optional) Adding features with the Amplify CLI

The Studio **Set up** menu lists cloud backend features such as functions, storage, and APIs that you can add to your app using the CLI. For each backend resource, Studio displays the CLI commands to run in your terminal window. 

1. In Studio, on the **Set up** menu, choose **Storage** or **Functions**.
2. On the **Storage** page, under **Pull your Amplify project**, copy the following command and run it in your terminal window. 
3. After your backend environment has been successfully pulled from the cloud, copy the following command under **Add storage capabilities** and paste it in your terminal window:
```bash
amplify add storage
```
4. Follow the prompts in the terminal window to configure storage with your desired settings.
5. Run the following command in your terminal window to build your local backend resources and provision them in the cloud:
```bash
amplify push
```
6. Return to the Studio **Storage** page. Confirm that a link to your new storage resource is available in the **Deployed storage resources** section.

## Infrastructure-as-code

All backends created in Amplify Studio and Amplify CLI are deployed using AWS CloudFormation. AWS CloudFormation allows you store your backend configuration as code in your repository. This has three major benefits:

1. Ability to extend a project with capabilities offered by individual services (e.g. Cognito, DynamoDB) that are not available in Amplify.
2. Ability to easily replicate backend environments across AWS accounts and regions. 
3. Ability to easily integrate with CI/CD pipelines such as the pipeline offered in the Amplify console. 

All backend infrastructure-as-code definitions can be added to your project with the Amplify Command Line Interface (CLI).