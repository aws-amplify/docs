<AmplifyAuthenticator></AmplifyAuthenticator>

import all0 from "/src/fragments/ui/web/installation.mdx";

<Fragments fragments={{all: all0}} />

## Usage

<FilterContent framework="react">

### Basic Usage

```jsx
import React from "react";
import Amplify from "aws-amplify";
import {AmplifyAuthenticator, AmplifySignOut} from "@aws-amplify/ui-react";
import awsconfig from "./aws-exports";

Amplify.configure(awsconfig);

const App = () => (
  <AmplifyAuthenticator>
    <div>
      My App
      <AmplifySignOut />
    </div>
  </AmplifyAuthenticator>
);
```

</FilterContent>

### Recommended Usage

In most cases you will need to manage the rendering and layout of the Authenticator separately.

<FilterContent framework="react">
  

import all1 from "/src/fragments/ui/auth/react/auth-state-management.mdx";

<Fragments fragments={{all: all1}} />
</FilterContent>

<FilterContent framework="angular">
  

import all2 from "/src/fragments/ui/auth/angular/auth-state-management.mdx";

<Fragments fragments={{all: all2}} />
</FilterContent>

<FilterContent framework="ionic">
  

import all3 from "/src/fragments/ui/auth/ionic/auth-state-management.mdx";

<Fragments fragments={{all: all3}} />
</FilterContent>

<FilterContent framework="vue">
  

import all4 from "/src/fragments/ui/auth/vue/auth-state-management.mdx";

<Fragments fragments={{all: all4}} />
</FilterContent>

<FilterContent framework="ionic">

import all5 from "/src/fragments/ui/angular/configure-module.mdx";

<Fragments fragments={{all: all5}} />

_app.component.html_

```html
<amplify-authenticator>
  <div>
    My App
    <amplify-sign-out></amplify-sign-out>
  </div>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

import all6 from "/src/fragments/ui/vue/configure-app.mdx";

<Fragments fragments={{all: all6}} />

_App.vue_

```html
<template>
  <amplify-authenticator>
    <div>
      My App
      <amplify-sign-out></amplify-sign-out>
    </div>
  </amplify-authenticator>
</template>
```

</FilterContent>

<FilterContent framework="react">

import all7 from "/src/fragments/ui/auth/react/password-manager.mdx";

<Fragments fragments={{all: all7}} />

</FilterContent>

<FilterContent framework="angular">

import all8 from "/src/fragments/ui/auth/angular/password-manager.mdx";

<Fragments fragments={{all: all8}} />

</FilterContent>

<FilterContent framework="ionic">

import all9 from "/src/fragments/ui/auth/angular/password-manager.mdx";

<Fragments fragments={{all: all9}} />

</FilterContent>

<FilterContent framework="vue">

import all10 from "/src/fragments/ui/auth/angular/password-manager.mdx";

<Fragments fragments={{all: all10}} />

</FilterContent>

<UiComponentProps tag="amplify-authenticator" propType='attr' useTableHeaders></UiComponentProps>

<UiComponentProps tag="amplify-authenticator" propType='slots' useTableHeaders></UiComponentProps>

<UiComponentProps tag="amplify-authenticator" propType='css' useTableHeaders></UiComponentProps>

## Customization

### Custom Form Fields

If you'd like to customize the form fields in the Authenticator Sign In or Sign Up component, you can do so by using the `formFields` property.

The following example highlights the use of Authenticator with customized Sign Up form fields and [authentication with email](#authenticate-with-email-or-phone-number):

<FilterContent framework="react">

import all11 from "/src/fragments/ui/auth/react/custom-form-fields.mdx";

<Fragments fragments={{all: all11}} />

</FilterContent>
<FilterContent framework="angular">

import all12 from "/src/fragments/ui/auth/angular/custom-form-fields.mdx";

<Fragments fragments={{all: all12}} />

</FilterContent>
<FilterContent framework="ionic">

import all13 from "/src/fragments/ui/auth/ionic/custom-form-fields.mdx";

<Fragments fragments={{all: all13}} />

</FilterContent>
<FilterContent framework="vue">

import all14 from "/src/fragments/ui/auth/vue/custom-form-fields.mdx";

<Fragments fragments={{all: all14}} />

</FilterContent>

Here is an example of the component in use:

<docs-component-playground component-name="AuthenticatorWithSlots"></docs-component-playground>

<Callout warning>

If you are using the `usernameAlias` prop with custom `slots`, keep in mind that you must pass the `usernameAlias` prop value to both the Authenticator and custom slotted component since the slotted component overrides the configuration passed from the Authenticator.

</Callout>

For more details on this customization see the `amplify-form-field` [prop documentation](https://github.com/aws-amplify/amplify-js/tree/main/packages/amplify-ui-components/src/components/amplify-form-field#properties) and the internal [`FormFieldType` interface](https://github.com/aws-amplify/amplify-js/blob/main/packages/amplify-ui-components/src/components/amplify-auth-fields/amplify-auth-fields-interface.ts#L3).

### Hiding form fields

Often you will not need a default form field, for example the phone number field. To implement this you can define the array of fields you'd like to show (along with the optional field customizations).

In this example we are also managing the auth state to show and hide the Authenticator component based on the authenticated state of the user. This code will also persist the user sign in state on refresh.

<FilterContent framework="react">

import all15 from "/src/fragments/ui/auth/react/hiding-form-fields.mdx";

<Fragments fragments={{all: all15}} />

</FilterContent>

<FilterContent framework="angular">

import all16 from "/src/fragments/ui/auth/angular/hiding-form-fields.mdx";

<Fragments fragments={{all: all16}} />

</FilterContent>

<FilterContent framework="ionic">

import all17 from "/src/fragments/ui/auth/ionic/hiding-form-fields.mdx";

<Fragments fragments={{all: all17}} />

</FilterContent>

<FilterContent framework="vue">

import all18 from "/src/fragments/ui/auth/vue/hiding-form-fields.mdx";

<Fragments fragments={{all: all18}} />

</FilterContent>

### Managing Layout with CSS

Since the UI components are implemented using web components, you can control the top level `amplify-authenticator` component directly using CSS.

```css
amplify-authenticator {
  display: flex;
  justify-content: center;
  align-items: center;
  flex: 1;
  height: 100vh;
}
```

## Components

### Sign In

<amplify-sign-in header-text="My Custom Sign In Text"></amplify-sign-in>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifySignIn
    headerText="My Custom Sign In Text"
    slot="sign-in"
  ></AmplifySignIn>
</AmplifyAuthenticator>
```

</FilterContent>

<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-sign-in
    header-text="My Custom Sign In Text"
    slot="sign-in"
  ></amplify-sign-in>
</amplify-authenticator>
```

</FilterContent>

<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-sign-in
    header-text="My Custom Sign In Text"
    slot="sign-in"
  ></amplify-sign-in>
</amplify-authenticator>
```

</FilterContent>

<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-sign-in
    header-text="My Custom Sign In Text"
    slot="sign-in"
  ></amplify-sign-in>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-sign-in" propType="attr"></UiComponentProps>

<UiComponentProps tag="amplify-sign-in" propType="css"></UiComponentProps>

<UiComponentProps tag="amplify-sign-in" propType="slots"></UiComponentProps>

### Sign Up

<amplify-sign-up header-text="My Custom Sign Up Text"></amplify-sign-up>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifySignUp
    headerText="My Custom Sign Up Text"
    slot="sign-up"
  ></AmplifySignUp>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-sign-up
    header-text="My Custom Sign Up Text"
    slot="sign-up"
  ></amplify-sign-up>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-sign-up
    header-text="My Custom Sign Up Text"
    slot="sign-up"
  ></amplify-sign-up>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-sign-up
    header-text="My Custom Sign Up Text"
    slot="sign-up"
  ></amplify-sign-up>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-sign-up" propType='attr'></UiComponentProps>

<UiComponentProps tag="amplify-sign-up" propType='css'></UiComponentProps>

<UiComponentProps tag="amplify-sign-up" propType='slots'></UiComponentProps>

### Sign Out

<amplify-sign-out button-text="Custom Text"></amplify-sign-out>

**Usage**

<FilterContent framework="react">

```jsx
<div>
  My App
  <AmplifySignOut buttonText="Custom Text"></AmplifySignOut>
</div>
```

</FilterContent>
<FilterContent framework="angular">

```html
<div>
  My App
  <amplify-sign-out button-text="Custom Text"></amplify-sign-out>
</div>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<div>
  My App
  <amplify-sign-out button-text="Custom Text"></amplify-sign-out>
</div>
```

</FilterContent>
<FilterContent framework="vue">

```html
<div>
  My App
  <amplify-sign-out button-text="Custom Text"></amplify-sign-out>
</div>
```

</FilterContent>

<UiComponentProps tag="amplify-sign-out" propType="attr"></UiComponentProps>

<UiComponentProps tag="amplify-sign-out" propType="css"></UiComponentProps>

<UiComponentProps tag="amplify-sign-out" propType="slots"></UiComponentProps>

### Confirm Sign In

<amplify-confirm-sign-in header-text="My Custom Confirm Sign In Text"></amplify-confirm-sign-in>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyConfirmSignIn
    headerText="My Custom Confirm Sign In Text"
    slot="confirm-sign-in"
  ></AmplifyConfirmSignIn>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-confirm-sign-in
    header-text="My Custom Confirm Sign In Text"
    slot="confirm-sign-in"
  ></amplify-confirm-sign-in>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-confirm-sign-in
    header-text="My Custom Confirm Sign In Text"
    slot="confirm-sign-in"
  ></amplify-confirm-sign-in>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-confirm-sign-in
    header-text="My Custom Confirm Sign In Text"
    slot="confirm-sign-in"
  ></amplify-confirm-sign-in>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-confirm-sign-in" propType="attr"></UiComponentProps>

### Confirm Sign Up

<amplify-confirm-sign-up header-text="My Custom Confirm Sign Up Text"></amplify-confirm-sign-up>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyConfirmSignUp
    headerText="My Custom Confirm Sign Up Text"
    slot="confirm-sign-up"
  ></AmplifyConfirmSignUp>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-confirm-sign-up
    header-text="My Custom Confirm Sign Up Text"
    slot="confirm-sign-up"
  ></amplify-confirm-sign-up>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-confirm-sign-up
    header-text="My Custom Confirm Sign Up Text"
    slot="confirm-sign-up"
  ></amplify-confirm-sign-up>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-confirm-sign-up
    header-text="My Custom Confirm Sign Up Text"
    slot="confirm-sign-up"
  ></amplify-confirm-sign-up>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-confirm-sign-up" propType="attr"></UiComponentProps>

### Forgot Password

<amplify-forgot-password header-text="My Custom Forgot Password Text"></amplify-forgot-password>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyForgotPassword
    headerText="My Custom Forgot Password Text"
    slot="forgot-password"
  ></AmplifyForgotPassword>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-forgot-password
    header-text="My Custom Forgot Password Text"
    slot="forgot-password"
  ></amplify-forgot-password>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-forgot-password
    header-text="My Custom Forgot Password Text"
    slot="forgot-password"
  ></amplify-forgot-password>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-forgot-password
    header-text="My Custom Forgot Password Text"
    slot="forgot-password"
  ></amplify-forgot-password>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-forgot-password" propType='attr'></UiComponentProps>

### Require New Password

<amplify-require-new-password header-text="My Custom Require New Password Text"></amplify-require-new-password>

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyRequireNewPassword
    headerText="My Custom Require New Password Text"
    slot="require-new-password"
  ></AmplifyRequireNewPassword>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-require-new-password
    header-text="My Custom Require New Password Text"
    slot="require-new-password"
  ></amplify-require-new-password>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-require-new-password
    header-text="My Custom Require New Password Text"
    slot="require-new-password"
  ></amplify-require-new-password>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-require-new-password
    header-text="My Custom Require New Password Text"
    slot="require-new-password"
  ></amplify-require-new-password>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-require-new-password" propType="attr"></UiComponentProps>

### TOTP Setup

**Usage**

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyTotpSetup
    headerText="My Custom TOTP Setup Text"
    slot="totp-setup"
  ></AmplifyTotpSetup>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-totp-setup
    header-text="My Custom TOTP Setup Text"
    slot="totp-setup"
  ></amplify-totp-setup>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-totp-setup
    header-text="My Custom TOTP Setup Text"
    slot="totp-setup"
  ></amplify-totp-setup>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-totp-setup
    header-text="My Custom TOTP Setup Text"
    slot="totp-setup"
  ></amplify-totp-setup>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-totp-setup" propType='attr'></UiComponentProps>

### Verify Contact

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator>
  <AmplifyVerifyContact
    headerText="My Custom Verify Contact Text"
    slot="verify-contact"
  ></AmplifyVerifyContact>
</AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator>
  <amplify-verify-contact
    header-text="My Custom Verify Contact Text"
    slot="verify-contact"
  ></amplify-verify-contact>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator>
  <amplify-verify-contact
    header-text="My Custom Verify Contact Text"
    slot="verify-contact"
  ></amplify-verify-contact>
</amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator>
  <amplify-verify-contact
    header-text="My Custom Verify Contact Text"
    slot="verify-contact"
  ></amplify-verify-contact>
</amplify-authenticator>
```

</FilterContent>

<UiComponentProps tag="amplify-verify-contact" propType="attr"></UiComponentProps>

### Greetings

<amplify-greetings username="username"></amplify-greetings>

**Usage**

<FilterContent framework="react">

```jsx
import React from "react";
import "./App.css";
import Amplify from "aws-amplify";
import {AmplifyAuthenticator, AmplifyGreetings} from "@aws-amplify/ui-react";
import {AuthState, onAuthUIStateChange} from "@aws-amplify/ui-components";
import awsconfig from "./aws-exports";

Amplify.configure(awsconfig);

const GreetingsApp = () => {
  const [authState, setAuthState] = React.useState();
  const [user, setUser] = React.useState();

  React.useEffect(() => {
    return onAuthUIStateChange((nextAuthState, authData) => {
      setAuthState(nextAuthState);
      setUser(authData);
    });
  }, []);

  return authState === AuthState.SignedIn && user ? (
    <div className="App">
      <AmplifyGreetings username={user.username}></AmplifyGreetings>
    </div>
  ) : (
    <AmplifyAuthenticator />
  );
};

export default GreetingsApp;
```

</FilterContent>
<FilterContent framework="angular">

import all19 from "/src/fragments/ui/angular/configure-module.mdx";

<Fragments fragments={{all: all19}} />

Replace the content inside of _app.component.ts_ with the following:

```js
import { Component, ChangeDetectorRef } from '@angular/core';
import { onAuthUIStateChange, CognitoUserInterface, AuthState } from '@aws-amplify/ui-components';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'amplify-angular-auth';
  user: CognitoUserInterface | undefined;
  authState: AuthState;

  constructor(private ref: ChangeDetectorRef) {}

  ngOnInit() {
    onAuthUIStateChange((authState, authData) => {
      this.authState = authState;
      this.user = authData as CognitoUserInterface;
      this.ref.detectChanges();
    })
  }

  ngOnDestroy() {
    return onAuthUIStateChange;
  }
}
```

Replace the content inside of _app.component.html_ with the following:

```html
<amplify-authenticator *ngIf="authState !== 'signedin'"></amplify-authenticator>

<div *ngIf="authState === 'signedin' && user" class="App">
  <amplify-greetings [username]="user.username"></amplify-greetings>
</div>
```

</FilterContent>
<FilterContent framework="ionic">

import all20 from "/src/fragments/ui/angular/configure-module.mdx";

<Fragments fragments={{all: all20}} />

Replace the content inside of _app.component.ts_ with the following:

```js
import { Component, ChangeDetectorRef } from '@angular/core';
import { onAuthUIStateChange, CognitoUserInterface, AuthState } from '@aws-amplify/ui-components';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'amplify-angular-auth';
  user: CognitoUserInterface | undefined;
  authState: AuthState;

  constructor(private ref: ChangeDetectorRef) {}

  ngOnInit() {
    onAuthUIStateChange((authState, authData) => {
      this.authState = authState;
      this.user = authData as CognitoUserInterface;
      this.ref.detectChanges();
    })
  }

  ngOnDestroy() {
    return onAuthUIStateChange;
  }
}
```

Replace the content inside of _app.component.html_ with the following:

```html
<amplify-authenticator *ngIf="authState !== 'signedin'"></amplify-authenticator>

<div *ngIf="authState === 'signedin' && user" class="App">
  <amplify-greetings [username]="user.username"></amplify-greetings>
</div>
```

</FilterContent>
<FilterContent framework="vue">

_App.vue_

```html
<template>
  <div>
    <amplify-authenticator
      v-if="authState !== 'signedin'"
    ></amplify-authenticator>
    <div v-if="authState === 'signedin' && user">
      <amplify-greetings :username="user.username"></amplify-greetings>
    </div>
  </div>
</template>
```

<BlockSwitcher>
<Block name="Vue 3">

```js
import {onAuthUIStateChange} from "@aws-amplify/ui-components";

export default {
  name: "AuthStateApp",
  created() {
    this.unsubscribeAuth = onAuthUIStateChange((authState, authData) => {
      this.authState = authState;
      this.user = authData;
    });
  },
  data() {
    return {
      user: undefined,
      authState: undefined,
      unsubscribeAuth: undefined,
    };
  },
  beforeUnmount() {
    this.unsubscribeAuth();
  },
};
```

</Block>
<Block name="Vue 2">

```js
import {onAuthUIStateChange} from "@aws-amplify/ui-components";

export default {
  name: "AuthStateApp",
  created() {
    this.unsubscribeAuth = onAuthUIStateChange((authState, authData) => {
      this.authState = authState;
      this.user = authData;
    });
  },
  data() {
    return {
      user: undefined,
      authState: undefined,
      unsubscribeAuth: undefined,
    };
  },
  beforeDestroy() {
    this.unsubscribeAuth();
  },
};
```

</Block>
</BlockSwitcher>

</FilterContent>

<UiComponentProps tag="amplify-greetings" propType="attr"></UiComponentProps>

<UiComponentProps tag="amplify-greetings" propType="css"></UiComponentProps>

<UiComponentProps tag="amplify-greetings" propType="slots"></UiComponentProps>

<FilterContent framework="react">

### withAuthenticator

import all21 from "/src/fragments/ui/auth/react/withauthenticator.mdx";

<Fragments fragments={{all: all21}} />

You can also pass in any of the [AmplifyAuthenticator props](#props-attr-amplify-authenticator):

```jsx
export withAuthenticator(App, {initialAuthState: 'signup'});
```

</FilterContent>

## Methods & Enums

### AuthState

`AuthState` is an enum with the following values:

```js
enum AuthState {
  SignUp = 'signup',
  SignOut = 'signout',
  SignIn = 'signin',
  Loading = 'loading',
  SignedOut = 'signedout',
  SignedIn = 'signedin',
  SigningUp = 'signingup',
  ConfirmSignUp = 'confirmSignUp',
  confirmingSignUpCustomFlow = 'confirmsignupcustomflow',
  ConfirmSignIn = 'confirmSignIn',
  confirmingSignInCustomFlow = 'confirmingsignincustomflow',
  VerifyingAttributes = 'verifyingattributes',
  ForgotPassword = 'forgotpassword',
  ResetPassword = 'resettingpassword',
  SettingMFA = 'settingMFA',
  TOTPSetup = 'TOTPSetup',
  CustomConfirmSignIn = 'customConfirmSignIn',
  VerifyContact = 'verifyContact'
}
```

**Usage**

```js
import {AuthState, onAuthUIStateChange} from "@aws-amplify/ui-components";

onAuthUIStateChange((nextAuthState, authData) => {
  if (nextAuthState === AuthState.SignedIn) {
    console.log("user successfully signed in!");
  }
});
```

### onAuthUIStateChange

`onAuthUIStateChange` is a function that will fire whenever the state of the Authentication UI component changes.

**Usage**

```js
import {AuthState, onAuthUIStateChange} from "@aws-amplify/ui-components";

onAuthUIStateChange((nextAuthState, authData) => {
  if (nextAuthState === AuthState.SignedIn) {
    console.log("user successfully signed in!");
    console.log("user data: ", authData);
  }
  if (!authData) {
    console.log("user is not signed in...");
  }
});
```

<FilterContent framework="react">
  

import all22 from "/src/fragments/ui/auth/react/handleauthstatechange.mdx";

<Fragments fragments={{all: all22}} />
</FilterContent>

## Use Cases

### Manage Auth State and Conditional app rendering

<FilterContent framework="react">
  

import all23 from "/src/fragments/ui/auth/react/auth-state-management.mdx";

<Fragments fragments={{all: all23}} />
</FilterContent>

<FilterContent framework="angular">
  

import all24 from "/src/fragments/ui/auth/angular/auth-state-management.mdx";

<Fragments fragments={{all: all24}} />
</FilterContent>

<FilterContent framework="ionic">
  

import all25 from "/src/fragments/ui/auth/ionic/auth-state-management.mdx";

<Fragments fragments={{all: all25}} />
</FilterContent>

<FilterContent framework="vue">
  

import all26 from "/src/fragments/ui/auth/vue/auth-state-management.mdx";

<Fragments fragments={{all: all26}} />
</FilterContent>

### Authenticate with email or phone number

The `amplify-authenticator` component has the ability to sign in / sign up with `email` or `phone_number` instead of default `username`.

To achieve this, you first need to setup the userpool to allow email or phone number as the username [using the cli workflow](/cli/auth/overview#configuring-auth-without-social-providers) or through the [Cognito Console](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-settings-attributes.html#user-pool-settings-aliases-settings-option-2). To reflect this in the `amplify-authenticator` component, you can use the `usernameAlias` property. It can take one of the three values - `email`, `phone_number` or `username`. Default is set to `username`.

<FilterContent framework="react">

```jsx
<AmplifyAuthenticator usernameAlias="email"></AmplifyAuthenticator>
```

</FilterContent>
<FilterContent framework="angular">

```html
<amplify-authenticator username-alias="email"></amplify-authenticator>
```

</FilterContent>
<FilterContent framework="ionic">

```html
<amplify-authenticator username-alias="email"></amplify-authenticator>
```

</FilterContent>
<FilterContent framework="vue">

```html
<amplify-authenticator username-alias="email"></amplify-authenticator>
```

</FilterContent>

### Override Sign Up

You can override the call to [`signUp`](/lib/auth/emailpassword) function with `handleSignUp` property. For example, you can add a [custom attribute](/lib/auth/emailpassword) like so:

<FilterContent framework="react">

import all27 from "/src/fragments/ui/auth/react/overriding-sign-up-submit.mdx";

<Fragments fragments={{all: all27}} />

</FilterContent>

<FilterContent framework="angular">

import all28 from "/src/fragments/ui/auth/angular/overriding-sign-up-submit.mdx";

<Fragments fragments={{all: all28}} />

</FilterContent>

<FilterContent framework="ionic">

import all29 from "/src/fragments/ui/auth/angular/overriding-sign-up-submit.mdx";

<Fragments fragments={{all: all29}} />

</FilterContent>

<FilterContent framework="vue">

import all30 from "/src/fragments/ui/auth/vue/overriding-sign-up-submit.mdx";

<Fragments fragments={{all: all30}} />

</FilterContent>

## Migration

To migrate from using the `aws-amplify-<framework>` library to the latest `@aws-amplify/ui-<framework>` library use the steps below:

import all31 from "/src/fragments/ui/web/installation-diff.mdx";

<Fragments fragments={{all: all31}} />

### Usage

<FilterContent framework="react">

```diff
- import { Authenticator } from 'aws-amplify-react';
+ import { AmplifyAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';

const App = () => (

+ <AmplifyAuthenticator>
- <Authenticator>
    <div>
      My App
+     <AmplifySignOut />
    </div>
+ </AmplifyAuthenticator>;
- </Authenticator>
);
```

If you are using `withAuthenticator`:

```diff
- import { withAuthenticator } from 'aws-amplify-react';
+ import { withAuthenticator } from '@aws-amplify/ui-react';
```

```jsx
export default withAuthenticator(App);
```

<FilterContent framework="react">

### Breaking changes for withAuthenticator

<Callout warning>

We have deprecated some of the properties passed into `withAuthenticator`. If you were providing additional options to `withAuthenticator` (e.g. `includeGreetings`, `authenticatorComponents`, `federated`, `theme`), these have changed. Refer to the updated list of [Properties here](/ui/auth/authenticator.md/q/framework/react#props-attr-amplify-authenticator).

</Callout>

The previous `withAuthenticator` component would render a Greetings and Sign Out button at the top of your app after logging in. If you would like to add a Greetings or Sign Out button to your app you can add the [`AmplifyGreetings`](#greetings) or [`AmplifySignOut`](#sign-out) component to your app. Visit the [`withAuthenticator` example](#withauthenticator) above to see this.

</FilterContent>

</FilterContent>
<FilterContent framework="angular">

import all32 from "/src/fragments/ui/angular/configure-module-diff.mdx";

<Fragments fragments={{all: all32}} />

</FilterContent>
<FilterContent framework="ionic">

import all33 from "/src/fragments/ui/angular/configure-module-diff.mdx";

<Fragments fragments={{all: all33}} />

</FilterContent>
<FilterContent framework="vue">

import all34 from "/src/fragments/ui/vue/configure-app-diff.mdx";

<Fragments fragments={{all: all34}} />

</FilterContent>
