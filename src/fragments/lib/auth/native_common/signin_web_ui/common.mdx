## Prerequisites

import ios0 from '/src/fragments/lib/auth/ios/getting_started/15_preReq_web_ui.mdx';

<Fragments fragments={{ swift: ios0 }} />

import android1 from '/src/fragments/lib/auth/android/common_prereq.mdx';

<Fragments fragments={{ android: android1 }} />

import flutter2 from '/src/fragments/lib/auth/flutter/common_prereq.mdx';

<Fragments fragments={{ flutter: flutter2 }} />

## Configure Auth Category

<Callout>

This library's Cognito plugin currently supports the [Authorization Code Grant](https://docs.aws.amazon.com/cognito/latest/developerguide/authorization-endpoint.html) OAuth Flow.

</Callout>

import ios3 from '/src/fragments/lib/auth/ios/signin_web_ui/10_cli_setup.mdx';

<Fragments fragments={{ swift: ios3 }} />

import android4 from '/src/fragments/lib/auth/android/signin_web_ui/10_cli_setup.mdx';

<Fragments fragments={{ android: android4 }} />

import flutter5 from '/src/fragments/lib/auth/flutter/signin_web_ui/10_cli_setup.mdx';

<Fragments fragments={{ flutter: flutter5 }} />

import ios6 from '/src/fragments/lib/auth/ios/signin_web_ui/20_platform_specific_setup.mdx';

<Fragments fragments={{ swift: ios6 }} />

import android7 from '/src/fragments/lib/auth/android/signin_web_ui/20_platform_specific_setup.mdx';

<Fragments fragments={{ android: android7 }} />

import flutter8 from '/src/fragments/lib/auth/flutter/signin_web_ui/20_platform_specific_setup.mdx';

<Fragments fragments={{ flutter: flutter8 }} />

## Launch Web UI Sign In

import ios9 from '/src/fragments/lib/auth/ios/signin_web_ui/30_signin.mdx';

<Fragments fragments={{ swift: ios9 }} />

import android10 from '/src/fragments/lib/auth/android/signin_web_ui/30_signin.mdx';

<Fragments fragments={{ android: android10 }} />

import flutter11 from '/src/fragments/lib/auth/flutter/signin_web_ui/30_signin.mdx';

<Fragments fragments={{ flutter: flutter11 }} />

import ios12 from '/src/fragments/lib/auth/ios/signin_web_ui/40_private_session.mdx';

<Fragments fragments={{ swift: ios12 }} />

import flutter13 from '/src/fragments/lib/auth/flutter/signin_web_ui/40_private_session.mdx';

<Fragments fragments={{ flutter: flutter13 }} />

<InlineFilter filters={['android']}>
### Prefer private session during signIn

The `preferPrivateSession` option launches the authentication flow in an ephemeral browser state with no existing sessions or cookies. This ensures each authentication attempt begins from a clean, signed-out state, which is particularly useful for social sign-ins where third-party authentication cookies cannot be cleared.

<BlockSwitcher>
<Block name="Java">

```java
AWSCognitoAuthWebUISignInOptions options = AWSCognitoAuthWebUISignInOptions.builder()
    .preferPrivateSession(true)
    .build();

Amplify.Auth.signInWithWebUI(
    this,
    options,
    result -> Log.i("AuthQuickStart", result.toString()),
    error -> Log.e("AuthQuickStart", error.toString())
);

// or

Amplify.Auth.signInWithSocialWebUI(
    AuthProvider.google(),
    this,
    options,
    result -> Log.i("AuthQuickStart", result.toString()),
    error -> Log.e("AuthQuickStart", error.toString())
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
val options = AWSCognitoAuthWebUISignInOptions.builder()
    .preferPrivateSession(true)
    .build()

Amplify.Auth.signInWithWebUI(
    this,
    options,
    { Log.i("AuthQuickStart", "Signin OK = $it") },
    { Log.e("AuthQuickStart", "Signin failed", it) }
)

// or

Amplify.Auth.signInWithSocialWebUI(
    AuthProvider.google(),
    this,
    options,
    { Log.i("AuthQuickStart", "Signin OK = $it") },
    { Log.e("AuthQuickStart", "Signin failed", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
val options = AWSCognitoAuthWebUISignInOptions.builder()
    .preferPrivateSession(true)
    .build()

try {
    val result = Amplify.Auth.signInWithWebUI(this, options)
    Log.i("AuthQuickStart", "Signin OK: $result")
} catch (error: AuthException) {
    Log.e("AuthQuickStart", "Signin failed", error)
}

// or

try {
    val result = Amplify.Auth.signInWithSocialWebUI(AuthProvider.google(), this, options)
    Log.i("AuthQuickStart", "Signin OK: $result")
} catch (error: AuthException) {
    Log.e("AuthQuickStart", "Signin failed", error)
}
```

</Block>
<Block name="RxJava">

```java
AWSCognitoAuthWebUISignInOptions options = AWSCognitoAuthWebUISignInOptions.builder()
    .preferPrivateSession(true)
    .build();

RxAmplify.Auth.signInWithWebUI(this, options)
    .subscribe(
        result -> Log.i("AuthQuickStart", result.toString()),
        error -> Log.e("AuthQuickStart", error.toString())
    );

// or

RxAmplify.Auth.signInWithSocialWebUI(AuthProvider.google(), this, options)
    .subscribe(
        result -> Log.i("AuthQuickStart", result.toString()),
        error -> Log.e("AuthQuickStart", error.toString())
    );
```

</Block>
</BlockSwitcher>
</InlineFilter>
