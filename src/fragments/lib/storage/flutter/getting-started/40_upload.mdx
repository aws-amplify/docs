
<BlockSwitcher>

<Block name="Stable (Mobile)">

import flutter0 from "/src/fragments/lib/storage/flutter/upload/upload-create-file.mdx";

<Fragments fragments={{flutter: flutter0}} />

</Block>

<Block name = "Developer Preview (Mobile, Web & Desktop)">

```dart
import 'package:amplify_flutter/amplify_flutter.dart';

Future<void> uploadExampleData() async {
  const dataString = 'Example file contents';

  try {
    final result = await Amplify.Storage.uploadData(
      data: S3DataPayload.string(dataString),
      key: 'ExampleKey',
      onProgress: (progress) {
        safePrint('Transferred bytes: ${progress.transferredBytes}');
      },
    ).result;

    safePrint('Uploaded data to location: ${result.uploadedItem.key}');
  } on StorageException catch (e) {
    safePrint(e.message);
  }
}
```

</Block>

</BlockSwitcher>