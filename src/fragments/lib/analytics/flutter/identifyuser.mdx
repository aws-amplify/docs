This call sends information that you have specified about a user to Amazon Pinpoint. This could be for an unauthenticated (guest) or an authenticated user.

You can get the current user's ID from the Amplify Auth category as shown per the Auth category documentation. Be sure to have it ready before you set it as shown below (Check out the [Authentication Getting Started](/lib/auth/getting-started) guide for detailed explanation).

If you have asked for location access and received permission, you can also provide that in `UserProfileLocation`

<Callout>

Breaking changes from v0 to v1:  

The Analytics- prefix of the original `AnalyticsUserProfile` and `AnalyticsUserProfileLocation` classes is removed.  Furthermore, `AnalyticsProperties` is renamed to `CustomProperties`. 


</Callout>

```dart
Future<void> addAnalyticsWithLocation(
  String userId,
  String name,
  String email,
  String phoneNumber,
  int age,
) async {
  final analyticsUserProfile = UserProfile(
    name: name,
    email: email,
    plan: plan,
    location: const UserProfileLocation(
      latitude: 47.606209,
      longitude: -122.332069,
      postalCode: '98122',
      city: 'Seattle',
      region: 'WA',
      country: 'USA',
    ),
    customProperties: CustomProperties()
      ..addStringProperty('stringKey', 'stringValue')
      ..addIntProperty('intKey', 10)
      ..addDoubleProperty('_doubleKey', 10)
      ..addBoolProperty('boolKey', false),
  );

  await Amplify.Analytics.identifyUser(
    userId: userId,
    userProfile: analyticsUserProfile,
  );
}
```
