<BlockSwitcher>
<Block name="Java">

```java
Post post = Post.builder()
    .title("My Post")
    .rating(10)
    .build();

User user = User.builder()
    .username("User")
    .build();

PostEditor postEditor = PostEditor.builder()
    .post(post)
    .user(user)
    .build();

Amplify.API.mutate(ModelMutation.create(post),
    createdPost -> {
        Log.i("MyAmplifyApp", "Post created.");
        Amplify.API.mutate(ModelMutation.create(user),
                createdUser -> {
                    Log.i("MyAmplifyApp", "User created.");
                    Amplify.API.mutate(ModelMutation.create(postEditor),
                            createdPostEditor -> Log.i("MyAmplifyApp", "PostEditor created."),
                            failure -> Log.e("MyAmplifyApp", "PostEditor not created.", failure)
                    );
                },
                failure -> Log.e("MyAmplifyApp", "User not created.", failure)
        );
    },
    failure -> Log.e("MyAmplifyApp", "Post not created.", failure)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
val post = Post.builder()
    .title("My Post")
    .rating(10)
    .build()

val user = User.builder()
    .username("User")
    .build()

val postEditor = PostEditor.builder()
    .post(post)
    .user(user)
    .build()

Amplify.API.mutate(ModelMutation.create(post),
    {
        Log.i("MyAmplifyApp", "Post created")
        Amplify.API.mutate(ModelMutation.create(user),
            {
                Log.i("MyAmplifyApp", "User created")
                Amplify.API.mutate(
                    ModelMutation.create(postEditor),
                    { Log.i("MyAmplifyApp", "PostEditor created") },
                    { Log.e("MyAmplifyApp", " PostEditor not created", it) }
                )
            },
            { Log.e("MyAmplifyApp", " User not created", it) }
        )
    },
    { Log.e("MyAmplifyApp", "Post not created", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
val post = Post.builder()
    .title("My Post")
    .rating(10)
    .build()

val user = User.builder()
    .username("User")
    .build()

val postEditor = PostEditor.builder()
    .post(post)
    .user(user)
    .build()

try {
    Amplify.API.mutate(ModelMutation.create(post))
    Log.i("MyAmplifyApp", "Post created.")

    Amplify.API.mutate(ModelMutation.create(user))
    Log.i("MyAmplifyApp", "User created.")

    Amplify.API.mutate(ModelMutation.create(postEditor))
    Log.i("MyAmplifyApp", "PostEditor created.")
} catch (error: ApiException) {
    Log.e("MyAmplifyApp", "Create failed", error)
}
```

</Block>
</BlockSwitcher>

<Callout>

This example illustrates the complexity of working with multiple sequential create operations. To remove the nested callbacks, consider using Amplify's support for [Coroutines](/lib/project-setup/coroutines).

</Callout>
