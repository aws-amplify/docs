<BlockSwitcher>
<Block name="Java">

```java
Post post = Post.builder()
    .title("My Post with comments")
    .rating(10)
    .build();

Comment comment = Comment.builder()
    .post(post) // Directly pass in the post instance
    .content("Loving Amplify API!")
    .build();

Amplify.API.mutate(ModelMutation.create(post),
    savedPost -> {
        Log.i("MyAmplifyApp", "Post created.");
        Amplify.API.mutate(ModelMutation.create(comment),
                savedComment -> Log.i("MyAmplifyApp", "Comment created."),
                failure -> Log.e("MyAmplifyApp", "Comment not created.", failure)
        );
    },
    failure -> Log.e("MyAmplifyApp", "Post not created.", failure)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
val post = Post.builder()
    .title("My Post with comments")
    .rating(10)
    .build()

val comment = Comment.builder()
    .post(post) // Directly pass in the post instance
    .content("Loving Amplify API!")
    .build()

Amplify.API.mutate(ModelMutation.create(post),
    {
        Log.i("MyAmplifyApp", "Post created")
        Amplify.API.mutate(ModelMutation.create(comment),
            { Log.i("MyAmplifyApp", "Comment created") },
            { Log.e("MyAmplifyApp", "Comment not created", it) }
        )
    },
    { Log.e("MyAmplifyApp", "Post not created", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
val post = Post.builder()
    .title("My Post with comments")
    .rating(10)
    .build()

val comment = Comment.builder()
    .post(post) // Directly pass in the post instance
    .content("Loving Amplify API!")
    .build()

try {
    Amplify.API.mutate(ModelMutation.create(post))
    Log.i("MyAmplifyApp", "Post created.")

    Amplify.API.mutate(ModelMutation.create(comment))
    Log.i("MyAmplifyApp", "Comment created.")
} catch (error: ApiException) {
    Log.e("MyAmplifyApp", "Create failed", error)
}
```

</Block>
</BlockSwitcher>
