```js
async function handlePermissions() {
  const status = await getPermissionStatus();
  if (status === 'granted') {
    // no further action is required, user has already granted permissions
    return;
  }
  if (status === 'denied') {
    // further attempts to request permissions will no longer do anything
    myFunctionToGracefullyDegradeMyApp();
    return;
  }
  if (status === 'shouldRequest') {
    // go ahead and request permissions from the user
    await requestPermissions();
  }
  if (status === 'shouldExplainThenRequest') {
    // you should display some explanation to your user before requesting permissions
    await myFunctionExplainingPermissionsRequest();
    // then request permissions
    await requestPermissions();
  }
}
```
