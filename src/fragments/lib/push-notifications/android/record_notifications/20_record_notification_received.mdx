You can record receipt of a push notification with Amazon Pinpoint by calling `Amplify.Notifications.Push.recordNotificationReceived()` from the Messaging Service class.

<Callout>

You should call either `handleNotificationReceived` or `recordNotificationReceived`, but not both since `handleNotificationReceived` internally calls `recordNotificationReceived`.

</Callout>

<BlockSwitcher>
<Block name="Java">

```java
class MyAppService extends FirebaseMessagingService() {
    @Override
    public void handleIntent(Intent intent) {

        // TODO(developer): Handle FCM messages here

        // Convert the RemoteMessage into a PinpointNotificationPayload
        Bundle data = intent != null ? intent.getExtras() : new Bundle()
        PinpointNotificationPayload notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(new RemoteMessage(data));

        // Record notification received with Amplify
        Amplify.Notifications.Push.recordNotificationReceived(notificationPayload,
            result -> Log.i("MyAmplifyApp", "Successfully recorded a notification received"),
            error -> Log.e("MyAmplifyApp", "Error recording notification received", error)
        );
    }
}
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
class MyAppService : FirebaseMessagingService() {
    override fun handleIntent(intent: Intent?) {

        // TODO(developer): Handle FCM messages here

        // Convert the RemoteMessage into a PinpointNotificationPayload
        val data = intent?.extras ?: Bundle()
        val notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(RemoteMessage(data))

        // Record notification received with Amplify
        Amplify.Notifications.Push.recordNotificationReceived(notificationPayload,
            { Log.i("MyAmplifyApp", "Successfully recorded a notification received") },
            { Log.e("MyAmplifyApp", "Error recording notification received", error) }
        )
    }
}
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
class MyAppService : FirebaseMessagingService() {
   override fun handleIntent(intent: Intent?) {

        // TODO(developer): Handle FCM messages here

        // Convert the RemoteMessage into a PinpointNotificationPayload
        val data = intent?.extras ?: Bundle()
        val notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(RemoteMessage(data))

        try {
            // let Amplify handle foreground and background message received
            Amplify.Notifications.Push.recordNotificationReceived(remoteMessage)
            Log.i("MyAmplifyApp", "Successfully recorded a notification received")
        } catch (error: PushNotificationsException) {
            Log.e("MyAmplifyApp", "Error recording notification received", error)
        }
    }
}
```

</Block>
<Block name="RxJava">

```java
class MyAppService extends FirebaseMessagingService() {
    public void handleIntent(Intent intent) {

        // TODO(developer): Handle FCM messages here

        // Convert the RemoteMessage into a PinpointNotificationPayload
        Bundle data = intent != null ? intent.getExtras() : new Bundle()
        PinpointNotificationPayload notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(new RemoteMessage(data));

        // let Amplify handle foreground and background message received
        RxAmplify.Notifications.Push.recordNotificationReceived(remoteMessage).subscribe(
            () -> Log.i("MyAmplifyApp", "Successfully recorded a notification received"),
            error -> Log.e("MyAmplifyApp", "Error recording notification received", error)
        );
    }
}
```

</Block>
</BlockSwitcher>
