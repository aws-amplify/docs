<Callout>

These APIs do not need to be called unless you choose to not use our service extension or you want to support multiple push providers.

</Callout>

## Handle Notification Received

You can display the notification in the system tray if the app is in a background or killed state by calling `Amplify.Notifications.Push.handleNotificationReceived()` from the Messaging Service class. It also calls `recordNotificationReceived` irrespective of the app state.

<BlockSwitcher>
<Block name="Java">

```java
class MyAppService extends FirebaseMessagingService() {
    @Override
    public void handleIntent(Intent intent) {
        Bundle data = intent != null ? intent.getExtras() : new Bundle()
        // First remove any parameters that shouldn't be passed to the app
        // * The wakelock ID set by the WakefulBroadcastReceiver
        data.remove("androidx.content.wakelockid")
        // Convert the RemoteMessage into a PinpointNotificationPayload
        PinpointNotificationPayload notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(new RemoteMessage(data));

        // let Amplify handle foreground and background message received
        Amplify.Notifications.Push.handleNotificationReceived(notificationPayload,
            result -> Log.i("MyAmplifyApp", "Successfully handled a notification"),
            error -> Log.e("MyAmplifyApp", "Error handling notification", error)
        );
    }
}
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
class MyAppService : FirebaseMessagingService() {
    override fun handleIntent(intent: Intent?) {
        val data = intent?.extras ?: Bundle()
        // First remove any parameters that shouldn't be passed to the app
        // * The wakelock ID set by the WakefulBroadcastReceiver
        data.remove("androidx.content.wakelockid")
        // Convert the RemoteMessage into a PinpointNotificationPayload
        val notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(RemoteMessage(data))

        // let Amplify handle foreground and background message received
        Amplify.Notifications.Push.handleNotificationReceived(notificationPayload,
            { Log.i("MyAmplifyApp", "Successfully handled a notification") },
            { Log.e("MyAmplifyApp", "Error handling notification", error) }
        )
    }
}
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
class MyAppService : FirebaseMessagingService() {
    override fun handleIntent(intent: Intent?) {
        val data = intent?.extras ?: Bundle()
        // First remove any parameters that shouldn't be passed to the app
        // * The wakelock ID set by the WakefulBroadcastReceiver
        data.remove("androidx.content.wakelockid")
        // Convert the RemoteMessage into a PinpointNotificationPayload
        val notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(RemoteMessage(data))

        try {
            // let Amplify handle foreground and background message received
            Amplify.Notifications.Push.handleNotificationReceived(notificationPayload)
            Log.i("MyAmplifyApp", "Successfully handled a notification")
        } catch (error: PushNotificationsException) {
            Log.e("MyAmplifyApp", "Error handling notification", error)
        }
    }
}
```

</Block>
<Block name="RxJava">

```java
class MyAppService extends FirebaseMessagingService() {
    @Override
    public void handleIntent(Intent intent) {
       Bundle data = intent != null ? intent.getExtras() : new Bundle()
        // First remove any parameters that shouldn't be passed to the app
        // * The wakelock ID set by the WakefulBroadcastReceiver
        data.remove("androidx.content.wakelockid")
        // Convert the RemoteMessage into a PinpointNotificationPayload
        PinpointNotificationPayload notificationPayload = PinpointNotificationPayload.createFromRemoteMessage(new RemoteMessage(data));

        // let Amplify handle foreground and background message received
        RxAmplify.Notifications.Push.handleNotificationReceived(notificationPayload).subscribe(
            () -> Log.i("MyAmplifyApp", "Successfully handled a notification"),
            error -> Log.e("MyAmplifyApp", "Error handling notification", error)
        );
    }
}
```

</Block>
</BlockSwitcher>
