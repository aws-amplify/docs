<BlockSwitcher>

<Block name="Async/Await">

```swift
do {
    let postWithComments = try await Amplify.DataStore.query(Post.self, byId: "123")
    // postWithComments might be nil, unwrap the optional appropriately
    try await Amplify.DataStore.delete(postWithComments!)
    print("Post with id 123 deleted with success")
} catch let error as DataStoreError {
    print("Failed with error \(error)")
} catch {
    print("Unexpected error \(error)")
}
```

</Block>

<Block name="Combine">

```swift
let sink = Amplify.Publisher.create {
    let postWithComments = try await Amplify.DataStore.query(Post.self, byId: "123")
    //Value of optional type 'Post?' must be unwrapped to a value of type 'Post'
    try await Amplify.DataStore.delete(postWithComments!)
}.sink {
    if case let .failure(error) = $0 {
        print("Error deleting post and comments - \(error)")
    }
} receiveValue: {
    print("Post with id 123 deleted with success")
}
```

</Block>

</BlockSwitcher>
